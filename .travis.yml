language: java
env:
  global:
    - secure: "df8sHu7cI389ubT7gtiRK2LRZmuH2rlrGthl445PfdvDLCJuEhQ2TIEyA65otODYA0JcSvOWydXiY6CHsF/REAl3pf/CTFqZxEWQpj6NbUQKLdDubbFHhrbU+VrxgtFREYl4WU+nLIBfoSMv96BaaduW6rKKUfZKF2JaNc0Q1cCqEXL1uuc+shsCqDUao1FjjVFeql0xL37VTR/AzbdxyJdRmfplsdlu0ynJ7A+LgVWc/t4idfJC1VBeBMkf0R0/NAky9BujrkqAMnAF8yY8brUI08G4XP4jg/KCO4t2qPHsFvgrJsokfVbRsj7i+iX4yytQi7wKlAHV1fXGrsd71E7Vq51THe3o5X8UrrL4a5RxCEogMKwTh2+SsS5fJ9/Xssm1me2G9p6nXxT1ydYTnfLBb9+sqFIWb0bbWzLQZCH8vVqHbR2DHHkSx7Nluli9AmJ5f9hkxc42yiXdNxF5eFKPLMNn7vJAdjmJRODCvt3v+kacptgliq9rT58rmwrhORoxgqr7jiGoEXLkp7v+6RG2GaFz7wOevOgWIjTWoP/dJxkAWNvWU2Oabl9iUEpQ1K1ByeussNB6S5/QiAqUdhQ8w7fXAh/CQjzEeh0sjGPaiYbO5tElNppX9/JNQCH96+GOj1HvUIfzZZa9so6z1kyxFQKZ2LG6uSxnGCgCEcA="
    - # ^^ OSSRH_JIRA_USERNAME
    - secure: "CeEVGB2VhOBueljaMVwkedNkMrh5eEi4LUkQxTPc0E0vz0DeO+93APpvKMaSuCqZ1GugdYJArvk6mTPHypkaq24yi0B49KXO0gpWpgKV9AtwOHWVLHVjjj4Wym5II6rDzSJII92C6gDtOV+WaJsau9cqdUZYe8dqvgNC+G8tEn+ytaQJiRplfGNF+TGqgSjJBSz4w6M6AgiJT37gxAFTNtkL3M/0SsxVe603fvvryifbjlWGGXaNC0svZ2bJ0ipd1QcA5vArTH1atKgCpq7fScrJd16UfqjWVm5Pe8YGZ1K36qqBAf9H4iHRGNfcB4GX8sQKE1cSR5fLqgvhS85Cm5YX/GLeDysQ+PLQ4A4yi5e+BDtzR534wDxX0fUIYiiQjP+YkGGdqkGXUE9nYIW/FXAz+PzwzBwiLWB8SFYCvx8w3MVOXklP5+0PpR17OYE1HHPjyZ9AblX12mdrjJvFeL+uEZ5668ioeDJWfhXcByC+viqWwuZN7iZ1Vr8PHJh8dZfRWPDtdaSSbj43r1MvkoyDCxZ0mKJe1nUF22zkM9W0Ehz5aTBWrjTFGeTTo7EV5S7tdcmQ1/qGTQFbL9iqARS3ULuVB89QgGZxC5J8FbTiu8c4bwx9vSg8EjqXgJXWVSYVQGYTI4GuI/M76PPMQDaWDXW0jTclPj844FpotJs="
    - # ^^ OSSRH_JIRA_PASSWORD
    - secure: "Z3QjoSOe5kpGmgRgk8k2efAYoMmaTMbr5g62xAW9Pa90QS5sAsVkT3j6m20TMXabQwOjgj/et7DhbHlW7sgMP2rhcoVgDdJKOPkEz4KlX3WhHNgJOLX1SoX1syuxBnTtUxTYK5zv3ORDbTPylQyzZNC03KpD5ODQ+lJpmAHBMWEc+OlZ4GubpsETVAwjGT7NLSfFEXz3f+4xuDkIDEUMxXwz7sfZ7535Vqoo0NzimXb/DIgyb+XmmeG2b8vcyvGk5zazSlRk+//isPCmxRoJnRIUyeOC6Q3b+CrJubHIEUfMTTPF+ZENXbjY6cI9YElcfnk1MQgcsVw1jl/1kMaLM1z/9qpq3IoWJOEVX53Kz0ca6hSBlF6NkHsjqcLE558tgYprx/edu/o8qgT7RV7ND6/SDsOpiDbDEjrwOjD20oubP1wmCxnTSmgK8rb9dedcurYAm5aows/vKAmqYXqa/31yhV83xw15SZdKqIFYwrdlV5gXZwMgPc2nrx6SBdz7OuYNSU8y8a1dd2/MvpXaX7HO6cid7fyR3MmBOg01sM13Ro3Aftr71z8eALO1RXlkVJKlGXl43+FJjnPfoI6PG2brtdIiNtJXqhOJZM6qo6ov5wfECLfz8Rb1QIpOHFupHDtqMASYTADjB87jCaQ8UROVkL1coKXmGQDXvFcVwUc="
    - # ^^ GPG_KEY_NAME
    - secure: "Uw9dG+qs8a7j6kUMmSYewQmVtnt8do+WAKv8yByG8hVitngPVpmPdUaksccehNplBl3/yDEyP4pCSu3m94UvN4DMEVe5txgmRl1u4lMC+Rss69oT/atR8BuAH3XkDJxdZSBpEq/Rnao7OhiHglkYLN4snaheZUvi5k82M2xhK0MBAivDWtih8zHWxWYmpC0FxDSbgIPuMphcPwzHCogbKzwTe8JisGPmQaLPtdy5qL9wWgM0/RIWLZFnfCfgYkdKZFld7sRyGuC0pBhBkrd4SC2Y2xlCk3VkdPzhE/CYOAeKLGf2c41lF7w+GYV9X5hbryY40d4ixvAKxjPnpcVZPW9AaCQpGCL+SlKcHvuuwy+vAKLCA1In+FU85buzAB/FJy78NlbsQcBohMr9kMH64/iLcHXzbOe5+QZh+I06WKYK/xji5cMEkhOe33XkqXAojb8t7khiWlgNxoTy50UJlxPHRXivfxnCMbl2vCpK6hN4GKEBqMgt1TAn9VSjxTyVCCqrFKdr94ZhkBtLGT7fYNkA+a+HhkUwj7r3u9NiHLhFSagFNd4l5ctrjePqFqqur2LrCn4K5HMnLaws3Gc1LeZUExJoZ4LG9ITn+G0mA/anpY8wDGAq0hAvETN2Ywcp6351XpH4eSRb0ueCvF2W0GezyXifR8fqLP/qCS23Plw="
    - # ^^ GPG_PASSPHRASE
jdk:
  - oraclejdk8
install: 
  mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script:
  mvn test -P !build-extras -B
before_script: 
  - cd jacobi
cache:
  directories:
    - ~/.m2/repository
deploy:
  provider: releases
  api_key: $GITHUB_API_TOKEN
  skip_cleanup: true
  on:
    tag: true